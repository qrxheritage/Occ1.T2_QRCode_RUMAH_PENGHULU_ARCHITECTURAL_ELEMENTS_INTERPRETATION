<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rumah Ibu - The Main Living Space</title>
    
    <!-- FontAwesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
             background: linear-gradient(135deg, #f5f7fa 0%, #e8d5c4 100%);
            padding: 40px 20px;
            line-height: 1.6;
        }

        body.lang-zh {
            font-family: 'KaiTi', 'æ¥·ä½“', 'STKaiti', 'BiauKai', serif;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: white;
            color: #333;
            padding: 60px 80px 10px 80px;
            position: relative;
        }

        .language-buttons {
            position: absolute;
            top: 20px;
            right: 40px;
            display: flex;
            gap: 10px;
        }

        .lang-btn {
            padding: 8px 16px;
            background: rgba(139, 69, 19, 0.1);
            border: 2px solid rgba(139, 69, 19, 0.3);
            color: #8B4513;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .lang-btn i {
            font-size: 0.9rem;
        }

        .lang-btn:hover {
            background: rgba(139, 69, 19, 0.2);
            border-color: rgba(139, 69, 19, 0.5);
            transform: translateY(-2px);
        }

        .lang-btn.active {
            background: linear-gradient(135deg, #8B4513 0%, #D2691E 100%);
            color: white;
            border-color: #8B4513;
        }

        .header h1 {
            font-size: 2.5em;
            margin-top: 30px;
        }

        .content {
            padding: 20px 80px;
        }

        .intro-section {
            margin-bottom: 40px;
        }

        .intro-section p {
            font-size: 1.05em;
            color: #555;
            line-height: 1.8;
            text-align: justify;
        }

        .intro-section em {
            font-style: italic;
            color: #8B4513;
        }

        .image-container {
            position: relative;
            width: 100%;
            max-width: 900px;
            margin: 40px auto;
        }

        .image-container img {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .hotspot {
            position: absolute;
            width: 50px;
            height: 50px;
            background: #D2691E;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid white;
            box-shadow: 0 4px 12px rgba(210, 105, 30, 0.4);
            animation: pulse 2s infinite;
        }

        .hotspot.question {
            background: white;
            color: #333;
            border-color: #ddd;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .hotspot:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(210, 105, 30, 0.6);
        }

        .hotspot.question:hover {
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
        }

        @keyframes pulse {
            0%, 100% {
                box-shadow: 0 4px 12px rgba(210, 105, 30, 0.4);
            }
            50% {
                box-shadow: 0 4px 20px rgba(210, 105, 30, 0.7);
            }
        }

        .hotspot-preview {
            position: absolute;
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            min-width: 250px;
            max-width: 300px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 100;
            pointer-events: none;
        }

        .hotspot-preview.show {
            opacity: 1;
            visibility: visible;
        }

        .hotspot-preview.top {
            bottom: 70px;
            left: 50%;
            transform: translateX(-50%) translateY(10px);
        }

        .hotspot-preview.top.show {
            transform: translateX(-50%) translateY(0);
        }

        .preview-thumbnail {
            width: 80px;
            height: 60px;
            object-fit: cover;
            border-radius: 4px;
            margin-bottom: 10px;
        }

        .preview-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
            font-size: 16px;
        }

        .preview-text {
            color: #666;
            font-size: 13px;
            line-height: 1.4;
        }

        .preview-arrow {
            position: absolute;
            color: white;
            font-size: 20px;
            background: #D2691E;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            right: 10px;
            top: 10px;
        }

        .info-panel {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            max-width: 600px;
            width: 90%;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
            max-height: 80vh;
            overflow-y: auto;
        }

        .info-panel.active {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }

        .info-panel h3 {
            color: #8B4513;
            margin-bottom: 15px;
            font-size: 24px;
        }

        .info-panel img {
            width: 100%;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .info-panel ul {
            list-style: none;
            padding: 0;
        }

        .info-panel li {
            color: #666;
            line-height: 1.8;
            font-size: 16px;
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
        }

        .info-panel li:before {
            content: 'â€¢';
            color: #D2691E;
            font-weight: bold;
            position: absolute;
            left: 0;
            font-size: 20px;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #D2691E;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            background: #8B4513;
            transform: rotate(90deg);
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.6);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 999;
        }

        .overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .question-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .option-btn {
            padding: 15px 20px;
            background: #f5f5f5;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            font-size: 15px;
            transition: all 0.3s ease;
            text-align: left;
        }

        .option-btn:hover {
            background: #e8e8e8;
            border-color: #D2691E;
        }

        .option-btn.correct {
            background: #4caf50;
            color: white;
            border-color: #4caf50;
        }

        .option-btn.incorrect {
            background: #f44336;
            color: white;
            border-color: #f44336;
        }

        .option-btn:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        .explanation {
            margin-top: 20px;
            padding: 15px;
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            border-radius: 4px;
            display: none;
        }

        .explanation.show {
            display: block;
        }

        .explanation p {
            margin: 0;
            color: #2e7d32;
        }

        @media (max-width: 768px) {
            .header {
                padding: 60px 40px;
            }

            .header h1 {
                font-size: 1.8em;
            }

            .content {
                padding: 30px 20px;
            }

            .language-buttons {
                position: relative;
                top: auto;
                right: auto;
                justify-content: center;
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="language-buttons">
                <button class="lang-btn active" onclick="changeLanguage('en', this)">
                    <i class="fas fa-globe"></i> English
                </button>
                <button class="lang-btn" onclick="changeLanguage('ms', this)">
                    <i class="fas fa-globe"></i> Melayu
                </button>
                <button class="lang-btn" onclick="changeLanguage('zh', this)">
                    <i class="fas fa-globe"></i> ä¸­æ–‡
                </button>
            </div>
            <h1>ğŸ  <span id="pageTitle">Rumah Ibu â€” The Main Living Space of House</span></h1>
        </div>

        <div class="content">
            <div class="intro-section">
                <p id="introText">
                    Rumah Ibu is built at the highest floor level and serves as the central area for receiving guests and holding important family events. Traditionally, wedding ceremonies take place here. A decorative wedding dais known as pelamin is prepared with detailed needlework by the bride's relatives for the bride and groom to be seated during the bersanding ceremony. This highlights the Rumah Ibu as a space of social gathering, celebration, and family unity.
                </p>
            </div>

            <div class="image-container">
                <img src="https://badanwarisanmalaysia.org/wp-content/uploads/2015/01/rumah-ibu.jpg?w=1024" alt="Rumah Ibu">
                
                <div class="hotspot" style="top: 40%; left: 50%; transform: translate(-50%, -50%);" data-hotspot="1">
                    2
                    <div class="hotspot-preview top">
                        <img src="https://i.imgur.com/WTu5haI.png" alt="Preview" class="preview-thumbnail">
                        <div class="preview-title" id="preview1">Pelamin (Wedding Dais)</div>            
                    </div>
                </div>
                
                <div class="hotspot" style="bottom: 15%; left: 50%; transform: translateX(-50%);" data-hotspot="2">
                    1
                    <div class="hotspot-preview top">
                        <img src="https://badanwarisanmalaysia.org/wp-content/uploads/2015/01/rumah-ibu.jpg?w=1024" alt="Preview" class="preview-thumbnail">
                        <div class="preview-title" id="preview2">Rumah Ibu</div>
                    </div>
                </div>

                <div class="hotspot question" style="top: 85%; left: 10%; transform: translate(-50%, 0%);" data-hotspot="question">
                    ?
                </div>
            </div>
        </div>
    </div>

    <div class="overlay" id="overlay"></div>

    <div class="info-panel" id="infoPanel">
        <button class="close-btn" id="closeBtn">Ã—</button>
        <h3 id="infoTitle"></h3>
        <img id="infoImage" src="" alt="" style="display:none;">
        <div id="infoContent"></div>
        <div class="question-options" id="questionOptions"></div>
        <div class="explanation" id="explanation">
            <p id="explanationText"></p>
        </div>
    </div>

    <script>
        const content = {
            en: {
                title: "Rumah Ibu â€” The Main Living Space of House",
                intro: "Rumah Ibu is built at the highest floor level and serves as the central area for receiving guests and holding important family events. Traditionally, wedding ceremonies take place here. A decorative wedding dais known as pelamin is prepared with detailed needlework by the bride's relatives for the bride and groom to be seated during the bersanding ceremony. This highlights the Rumah Ibu as a space of social gathering, celebration, and family unity.",
                hotspot1: {
                    title: "Pelamin (Wedding Dais)",
                    points: [
                        "Crafted with detailed needlework by the bride's relatives that need a few weeks to complete.",
                        "During bersanding (wedding ceremony), the groom and bride sit on the dais, with the groom sitting on the right."
                    ]
                },
                hotspot2: {
                    title: "Rumah Ibu",
                    points: [
                        "Elevated main living area for public functions",
                        "Venue for significant ceremonies such as weddings"
                    ]
                },
                question: {
                    title: "Who are in charge of making pelamin?",
                    options: ["Groom", "Bride", "Groom's families", "Bride's relatives"],
                    correctAnswer: 3,
                    explanation: "The pelamin is traditionally crafted with detailed needlework by the bride's relatives. This important cultural tradition requires several weeks of preparation."
                }
            },
            ms: {
                title: "Rumah Ibu â€” Ruang Tamu Utama",
                intro: "Rumah Ibu dibina pada aras lantai yang paling tinggi dan berfungsi sebagai ruang utama untuk menerima tetamu serta mengadakan majlis keluarga yang penting. Secara tradisinya, majlis perkahwinan berlangsung di sini. Sebuah pelamin yang dihias indah akan disiapkan dengan hasil kerja tangan yang teliti oleh ahli keluarga pengantin perempuan untuk tempat duduk pengantin lelaki dan perempuan semasa majlis bersanding. Ini menggambarkan Rumah Ibu sebagai ruang untuk perhimpunan sosial, perayaan dan penyatuan keluarga.",
                hotspot1: {
                    title: "Pelamin",
                    points: [
                        "Dihasilkan dengan jahitan halus oleh ahli keluarga pengantin perempuan, yang mengambil masa beberapa minggu untuk disiapkan.",
                        "Semasa majlis bersanding, pengantin lelaki dan perempuan duduk di atas pelamin, dengan pengantin lelaki di sebelah kanan."
                    ]
                },
                hotspot2: {
                    title: "Rumah Ibu",
                    points: [
                        "Ruang utama yang tinggi untuk acara umum",
                        "Tempat berlangsungnya upacara penting seperti majlis perkahwinan"
                    ]
                },
                question: {
                    title: "Siapakah yang bertanggungjawab membuat pelamin?",
                    options: ["Pengantin lelaki", "Pengantin perempuan", "Keluarga pengantin lelaki", "Ahli keluarga pengantin perempuann"],
                    correctAnswer: 3,
                    explanation: "Pelamin secara tradisinya direka dengan jahitan terperinci oleh ahli keluarga pengantin perempuan. Tradisi budaya penting ini memerlukan beberapa minggu persediaan."
                }
            },
            zh: {
                title: "Rumah Ibu â€” å®¢å…",
                intro: "<i>Rumah Ibu</i> å»ºåœ¨æ•´ä¸ªæˆ¿å±‹ä¸­æœ€é«˜çš„æ¥¼å±‚ï¼Œä½œä¸ºæ¥å¾…å®¾å®¢å’Œä¸¾åŠé‡è¦å®¶åº­æ´»åŠ¨çš„ä¸»è¦ç©ºé—´ã€‚ä¼ ç»Ÿä¸Šï¼Œå©šç¤¼ä»ªå¼ä¹Ÿåœ¨è¿™é‡Œä¸¾è¡Œã€‚ç”±æ–°å¨˜çš„äº²å±ç²¾å¿ƒåˆ¶ä½œã€ç»£å·¥ç»†è‡´çš„æ–°äººåº§<em>ï¼ˆpelaminï¼‰</em>ä¼šè¢«å¸ƒç½®å¥½ï¼Œè®©æ–°äººåœ¨å©šç¤¼çš„å¹¶åç¤¼<em>ï¼ˆbersandingï¼‰</em>ä»ªå¼ä¸­å…¥åº§æ¥å—ç¥ç¦ã€‚è¿™ä½“ç°äº† <i>Rumah Ibu</i> ä½œä¸ºç¤¾äº¤ã€åº†å…¸ä¸å®¶åº­å‡èšçš„æ ¸å¿ƒç©ºé—´ã€‚",
                hotspot1: { 
                    title: "Pelaminï¼ˆæ–°äººåº§ï¼‰",
                    points: [
                        "ç”±æ–°å¨˜çš„äº²å±ä»¥ç»†è‡´çš„é’ˆçº¿æ‰‹å·¥åˆ¶ä½œï¼Œé€šå¸¸éœ€è¦æ•°å‘¨æ‰èƒ½å®Œæˆã€‚",
                        "åœ¨å©šç¤¼ä»ªå¼ä¸­ï¼Œæ–°éƒå’Œæ–°å¨˜ååœ¨æ–°äººåº§ä¸Šï¼Œæ–°éƒä¼šååœ¨å³ä¾§"
                    ]
                },
                hotspot2: { 
                    title: "Rumah Ibu",
                    points: [
                        "ä½œä¸ºä¸¾åŠå…¬å…±æ´»åŠ¨çš„ä¸»è¦ç©ºé—´ï¼ˆå»ºåœ¨æ•´ä¸ªæˆ¿å±‹æœ€é«˜çš„æ¥¼å±‚ï¼‰",
                        "ä¸¾åŠé‡è¦ä»ªå¼çš„åœ°ç‚¹ï¼Œä¾‹å¦‚å©šç¤¼"
                    ]
                },
                question: {
                    title: "è°è´Ÿè´£åˆ¶ä½œæ–°äººåº§<ï¼ˆpelaminï¼‰ï¼Ÿ",
                    options: ["æ–°éƒ", "æ–°å¨˜", "æ–°éƒçš„å®¶äºº", "æ–°å¨˜çš„äº²å±"],
                    correctAnswer: 3,
                    explanation: "æ–°äººåº§(Pelamin)ä¼ ç»Ÿä¸Šç”±æ–°å¨˜çš„äº²æˆšç²¾å¿ƒåˆºç»£åˆ¶ä½œã€‚è¿™ä¸€é‡è¦çš„æ–‡åŒ–ä¼ ç»Ÿéœ€è¦æ•°å‘¨çš„å‡†å¤‡æ—¶é—´ã€‚"
                }
            }
        };

        let currentLang = 'en';

        function changeLanguage(lang, clickedButton) {
            localStorage.setItem("siteLanguage", lang);

            currentLang = lang;
            
            // Update body class for Chinese font
            document.body.className = lang === 'zh' ? 'lang-zh' : '';
            
            // Update active button
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            clickedButton.classList.add('active');

            // Update content
            document.getElementById('pageTitle').textContent = content[lang].title;
            document.getElementById('introText').innerHTML = content[lang].intro;
            
            // Update preview text
            document.getElementById('preview1').textContent = content[lang].hotspot1.title;
            document.getElementById('preview2').textContent = content[lang].hotspot2.title;
        }

        const hotspots = document.querySelectorAll('.hotspot');
        const infoPanel = document.getElementById('infoPanel');
        const overlay = document.getElementById('overlay');
        const closeBtn = document.getElementById('closeBtn');
        const infoTitle = document.getElementById('infoTitle');
        const infoImage = document.getElementById('infoImage');
        const infoContent = document.getElementById('infoContent');
        const questionOptions = document.getElementById('questionOptions');
        const explanation = document.getElementById('explanation');
        const explanationText = document.getElementById('explanationText');

        hotspots.forEach(hotspot => {
            const preview = hotspot.querySelector('.hotspot-preview');
            
            hotspot.addEventListener('mouseenter', () => {
                if (preview) {
                    preview.classList.add('show');
                }
            });
            
            hotspot.addEventListener('mouseleave', () => {
                if (preview) {
                    preview.classList.remove('show');
                }
            });
            
            hotspot.addEventListener('click', () => {
                const hotspotId = hotspot.getAttribute('data-hotspot');
                const langContent = content[currentLang];
                
                // Reset panel content
                questionOptions.innerHTML = '';
                explanation.classList.remove('show');
                questionOptions.style.display = 'none';
                infoImage.style.display = 'none';
                infoContent.innerHTML = '';
                
                if (hotspotId === '1') {
                    infoTitle.textContent = langContent.hotspot1.title;
                    infoImage.src = 'https://i.imgur.com/WTu5haI.png';
                    infoImage.style.display = 'block';
                    infoContent.innerHTML = '<ul>' + langContent.hotspot1.points.map(p => '<li>' + p + '</li>').join('') + '</ul>';
                } else if (hotspotId === '2') {
                    infoTitle.textContent = langContent.hotspot2.title;
                    infoImage.src = 'https://badanwarisanmalaysia.org/wp-content/uploads/2015/01/rumah-ibu.jpg?w=1024';
                    infoImage.style.display = 'block';
                    infoContent.innerHTML = '<ul>' + langContent.hotspot2.points.map(p => '<li>' + p + '</li>').join('') + '</ul>';
                } else if (hotspotId === 'question') {
                    infoTitle.textContent = langContent.question.title;
                    infoImage.style.display = 'none';
                    infoContent.innerHTML = '';
                    questionOptions.style.display = 'grid';
                    
                    langContent.question.options.forEach((option, index) => {
                        const btn = document.createElement('button');
                        btn.className = 'option-btn';
                        btn.textContent = option;
                        btn.addEventListener('click', () => handleAnswer(index, langContent.question));
                        questionOptions.appendChild(btn);
                    });
                }
                
                infoPanel.classList.add('active');
                overlay.classList.add('active');
            });
        });

        function handleAnswer(selectedIndex, questionData) {
            const options = questionOptions.querySelectorAll('.option-btn');
            
            options.forEach((btn, index) => {
                btn.disabled = true;
                
                if (index === questionData.correctAnswer) {
                    btn.classList.add('correct');
                } else if (index === selectedIndex) {
                    btn.classList.add('incorrect');
                }
            });
            
            explanationText.textContent = questionData.explanation;
            explanation.classList.add('show');
        }

        function closePanel() {
            infoPanel.classList.remove('active');
            overlay.classList.remove('active');
        }

        closeBtn.addEventListener('click', closePanel);
        overlay.addEventListener('click', closePanel);

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closePanel();
            }
        });

        // Initialize language
        document.addEventListener('DOMContentLoaded', () => {
            const savedLang = localStorage.getItem("siteLanguage") || "en";
            const btn = document.querySelector(`.lang-btn[onclick*="${savedLang}"]`);
            changeLanguage(savedLang, btn);
        });
    </script>
</body>
</html>