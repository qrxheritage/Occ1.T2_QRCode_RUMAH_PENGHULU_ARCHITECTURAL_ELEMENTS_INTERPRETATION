<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bilik Tidur - Bedroom</title>
    
    <!-- FontAwesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e8d5c4 100%);
            padding: 40px 20px;
            line-height: 1.6;
        }

        body.lang-zh {
            font-family: 'KaiTi', 'Ê•∑‰Ωì', 'STKaiti', 'BiauKai', serif;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: white;
            color: #333;
            padding: 60px 80px 10px 80px;
            position: relative;
        }

        .language-buttons {
            position: absolute;
            top: 20px;
            right: 40px;
            display: flex;
            gap: 10px;
        }

        .lang-btn {
            padding: 8px 16px;
            background: rgba(139, 69, 19, 0.1);
            border: 2px solid rgba(139, 69, 19, 0.3);
            color: #8B4513;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .lang-btn i {
            font-size: 0.9rem;
        }

        .lang-btn:hover {
            background: rgba(139, 69, 19, 0.2);
            border-color: rgba(139, 69, 19, 0.5);
            transform: translateY(-2px);
        }

        .lang-btn.active {
            background: linear-gradient(135deg, #8B4513 0%, #D2691E 100%);
            color: white;
            border-color: #8B4513;
        }

        .header h1 {
            font-size: 2.5em;
            margin-top: 30px;
        }

        .content {
            padding: 20px 80px;
        }

        .intro-section {
            margin-bottom: 40px;
        }

        .intro-section p {
            font-size: 1.05em;
            color: #555;
            line-height: 1.8;
            text-align: justify;
        }

        .intro-section em {
            font-style: italic;
            color: #8B4513;
        }

        .image-container {
            position: relative;
            width: 100%;
            max-width: 900px;
            margin: 40px auto;
        }

        .image-container img {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .hotspot {
            position: absolute;
            width: 50px;
            height: 50px;
            background: #D2691E;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid white;
            box-shadow: 0 4px 12px rgba(210, 105, 30, 0.4);
            animation: pulse 2s infinite;
        }

        .hotspot.question {
            background: white;
            color: #333;
            border-color: #ddd;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .hotspot:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(210, 105, 30, 0.6);
        }

        .hotspot.question:hover {
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
        }

        @keyframes pulse {
            0%, 100% {
                box-shadow: 0 4px 12px rgba(210, 105, 30, 0.4);
            }
            50% {
                box-shadow: 0 4px 20px rgba(210, 105, 30, 0.7);
            }
        }

        .hotspot-preview {
            position: absolute;
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            min-width: 250px;
            max-width: 300px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 100;
            pointer-events: none;
        }

        .hotspot-preview.show {
            opacity: 1;
            visibility: visible;
        }

        .hotspot-preview.top {
            bottom: 70px;
            left: 50%;
            transform: translateX(-50%) translateY(10px);
        }

        .hotspot-preview.top.show {
            transform: translateX(-50%) translateY(0);
        }

        .preview-thumbnail {
            width: 80px;
            height: 60px;
            object-fit: cover;
            border-radius: 4px;
            margin-bottom: 10px;
        }

        .preview-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
            font-size: 16px;
        }

        .preview-text {
            color: #666;
            font-size: 13px;
            line-height: 1.4;
        }

        .preview-arrow {
            position: absolute;
            color: white;
            font-size: 20px;
            background: #D2691E;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            right: 10px;
            top: 10px;
        }

        .info-panel {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            max-width: 600px;
            width: 90%;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
            max-height: 80vh;
            overflow-y: auto;
        }

        .info-panel.active {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }

        .info-panel h3 {
            color: #8B4513;
            margin-bottom: 15px;
            font-size: 24px;
        }

        .info-panel img {
            width: 100%;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .info-panel ul {
            list-style: none;
            padding: 0;
        }

        .info-panel li {
            color: #666;
            line-height: 1.8;
            font-size: 16px;
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
        }

        .info-panel li:before {
            content: '‚Ä¢';
            color: #D2691E;
            font-weight: bold;
            position: absolute;
            left: 0;
            font-size: 20px;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #D2691E;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            background: #8B4513;
            transform: rotate(90deg);
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.6);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 999;
        }

        .overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .question-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .option-btn {
            padding: 15px 20px;
            background: #f5f5f5;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            font-size: 15px;
            transition: all 0.3s ease;
            text-align: left;
        }

        .option-btn:hover {
            background: #e8e8e8;
            border-color: #D2691E;
        }

        .option-btn.correct {
            background: #4caf50;
            color: white;
            border-color: #4caf50;
        }

        .option-btn.incorrect {
            background: #f44336;
            color: white;
            border-color: #f44336;
        }

        .option-btn:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        .explanation {
            margin-top: 20px;
            padding: 15px;
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            border-radius: 4px;
            display: none;
        }

        .explanation.show {
            display: block;
        }

        .explanation p {
            margin: 0;
            color: #2e7d32;
        }

        @media (max-width: 768px) {
            .header {
                padding: 60px 40px;
            }

            .header h1 {
                font-size: 1.8em;
            }

            .content {
                padding: 30px 20px;
            }

            .language-buttons {
                position: relative;
                top: auto;
                right: auto;
                justify-content: center;
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="language-buttons">
                <button class="lang-btn active" onclick="changeLanguage('en', this)">
                    <i class="fas fa-globe"></i> English
                </button>
                <button class="lang-btn" onclick="changeLanguage('ms', this)">
                    <i class="fas fa-globe"></i> Melayu
                </button>
                <button class="lang-btn" onclick="changeLanguage('zh', this)">
                    <i class="fas fa-globe"></i> ‰∏≠Êñá
                </button>
            </div>
            <h1>üè† <span id="pageTitle">Bilik Tidur ‚Äî Bedroom</span></h1>
        </div>

        <div class="content">
            <div class="intro-section">
                <p id="introText">
                    In traditional Malay homes, family members usually sleep on mengkuang mats placed on the floor. However, because the penghulu held a respected social position, this house includes beds. One of the bedrooms features a three-sided brass bed, while another is furnished with a simpler timber bed. This reflects the penghulu's status and the blend of practicality and formality in the home.
                </p>
            </div>

            <div class="image-container">
                <img src="https://i.imgur.com/gYV3a2s.jpeg" alt="Bilik Tidur">
                
                <div class="hotspot" style="top: 60%; left: 70%; transform: translate(-50%, -50%);" data-hotspot="1">
                    1
                    <div class="hotspot-preview top">
                        <img src="https://i.imgur.com/Pnp0OAa.png" alt="Preview" class="preview-thumbnail">
                        <div class="preview-title" id="preview1">Three-sided brass bed</div>            
                    </div>
                </div>

                <div class="hotspot question" style="top: 85%; left: 10%; transform: translate(-50%, 0%);" data-hotspot="question">
                    ?
                </div>
            </div>
        </div>
    </div>

    <div class="overlay" id="overlay"></div>

    <div class="info-panel" id="infoPanel">
        <button class="close-btn" id="closeBtn">√ó</button>
        <h3 id="infoTitle"></h3>
        <img id="infoImage" src="" alt="" style="display:none;">
        <div id="infoContent"></div>
        <div class="question-options" id="questionOptions"></div>
        <div class="explanation" id="explanation">
            <p id="explanationText"></p>
        </div>
    </div>

    <script>
        const content = {
            en: {
                title: "Bilik Tidur ‚Äî Bedroom",
                intro: "In traditional Malay homes, family members usually sleep on mengkuang mats placed on the floor. However, because the penghulu held a respected social position, this house includes beds. One of the bedrooms features a three-sided brass bed, while another is furnished with a simpler timber bed. This reflects the penghulu's status and the blend of practicality and formality in the home.",
                hotspot1: {
                    title: "Three-sided brass bed",
                    points: [
                        "For the penghulu",
                        "Simple timber bed (secondary bedroom)"
                    ]
                },
                question: {
                    title: "Who used the three-sided brass bed in Rumah Tengah?",
                    options: ["Secondary family members", "Guests", "The penghulu", "Servants"],
                    correctAnswer: 2,
                    explanation: "The three-sided brass bed was for the penghulu, reflecting their respected social position in the community."
                }
            },
            ms: {
                title: "Bilik Tidur",
                intro: "Dalam rumah tradisional Melayu, ahli keluarga biasanya tidur di atas tikar mengkuang yang diletakkan di atas lantai. Namun, kerana penghulu memegang kedudukan sosial yang dihormati, rumah ini turut mempunyai katil. Salah satu bilik tidur mempunyai katil tembaga tiga sisi, manakala bilik lain dilengkapi dengan katil kayu yang lebih sederhana. Ini menunjukkan status penghulu dan gabungan sifat praktikal serta formal dalam rumah tersebut.",
                hotspot1: {
                    title: "Katil tembaga tiga sisi",
                    points: [
                        "Untuk penghulu",
                        "Katil kayu ringkas (bilik tidur sekundar)"
                    ]
                },
                question: {
                    title: "Siapakah yang menggunakan Katil tembaga tiga sisi di Rumah Tengah?",
                    options: ["Ahli keluarga sekunder", "Tetamu", "Penghulu", "Hamba"],
                    correctAnswer: 2,
                    explanation: "Katil tembaga tiga sisi adalah untuk penghulu, mencerminkan kedudukan sosial mereka yang dihormati dalam masyarakat."
                }
            },
            zh: {
                title: "Bilik Tidor ‚Äî ÂØùÂÆ§",
                intro: "Âú®‰º†ÁªüÈ©¨Êù•ÊàøÂ±ã‰∏≠ÔºåÂÆ∂Â∫≠ÊàêÂëòÈÄöÂ∏∏Áù°Âú®Ëû∫ÊóãÊ£ïÊ¶à<em>(Mengkuang)</em>Âû´‰∏äÊîæÂú®Âú∞Êùø‰∏ä„ÄÇÁÑ∂ËÄåÔºåÁî±‰∫éÊùëÈïø<em>ÔºàpenghuluÔºâ</em>Êã•ÊúâÂèó‰∫∫Â∞äÊï¨ÁöÑÁ§æ‰ºöÂú∞‰ΩçÔºåËøôÂ∫ßÊàøÂ±ãÈÖçÊúâÂ∫ä„ÄÇÂÖ∂‰∏≠‰∏ÄÈó¥ÂçßÂÆ§Êúâ‰∏âÈù¢ÈªÑÈìúÂ∫äÔºåÂè¶‰∏ÄÈó¥ÂàôÈÖçÊúâÁÆÄÂçïÊú®Â∫ä„ÄÇËøô‰ΩìÁé∞‰∫Ü<em>penghulu</em>ÁöÑË∫´‰ªΩÂú∞‰ΩçÔºå‰ª•ÂèäÂÆûÁî®‰∏éÊ≠£ÂºèÁöÑÁªìÂêà„ÄÇ",
                hotspot1: {
                    title: "‰∏âÈù¢ÈªÑÈìúÂ∫ä",
                    points: [
                        "‰æõÊùëÈïø‰ΩøÁî®",
                        "ÁÆÄÂçïÁöÑÊú®Â∫äÔºàÊ¨°ÂçßÔºâ"
                    ]
                },
                question: {
                    title: "‰∏âÈù¢ÈªÑÈìúÂ∫äÊòØË∞Å‰ΩøÁî®ÁöÑÔºü",
                    options: ["Ê¨°Ë¶ÅÂÆ∂Â∫≠ÊàêÂëò", "ÂÆ¢‰∫∫", "ÊùëÈïø", "‰ªÜ‰∫∫"],
                    correctAnswer: 2,
                    explanation: "‰∏âÈù¢ÈªÑÈìúÂ∫äÊòØ‰æõpenghuluÔºàÊùëÈïøÔºâ‰ΩøÁî®ÁöÑÔºåÂèçÊò†‰∫Ü‰ªñ‰ª¨Âú®Á§æÂå∫‰∏≠ÂèóÂ∞äÊï¨ÁöÑÁ§æ‰ºöÂú∞‰Ωç„ÄÇ"
                }
            }
        };

        let currentLang = 'en';

        function changeLanguage(lang, clickedButton) {
            localStorage.setItem("siteLanguage", lang);
            
            currentLang = lang;
            
            // Update body class for Chinese font
            document.body.className = lang === 'zh' ? 'lang-zh' : '';
            
            // Update active button
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            clickedButton.classList.add('active');

            // Update content
            document.getElementById('pageTitle').textContent = content[lang].title;
            document.getElementById('introText').innerHTML = content[lang].intro;
            
            // Update preview text
            document.getElementById('preview1').textContent = content[lang].hotspot1.title;
        }

        const hotspots = document.querySelectorAll('.hotspot');
        const infoPanel = document.getElementById('infoPanel');
        const overlay = document.getElementById('overlay');
        const closeBtn = document.getElementById('closeBtn');
        const infoTitle = document.getElementById('infoTitle');
        const infoImage = document.getElementById('infoImage');
        const infoContent = document.getElementById('infoContent');
        const questionOptions = document.getElementById('questionOptions');
        const explanation = document.getElementById('explanation');
        const explanationText = document.getElementById('explanationText');

        hotspots.forEach(hotspot => {
            const preview = hotspot.querySelector('.hotspot-preview');
            
            hotspot.addEventListener('mouseenter', () => {
                if (preview) {
                    preview.classList.add('show');
                }
            });
            
            hotspot.addEventListener('mouseleave', () => {
                if (preview) {
                    preview.classList.remove('show');
                }
            });
            
            hotspot.addEventListener('click', () => {
                const hotspotId = hotspot.getAttribute('data-hotspot');
                const langContent = content[currentLang];
                
                // Reset panel content
                questionOptions.innerHTML = '';
                explanation.classList.remove('show');
                questionOptions.style.display = 'none';
                infoImage.style.display = 'none';
                infoContent.innerHTML = '';
                
                if (hotspotId === '1') {
                    infoTitle.textContent = langContent.hotspot1.title;
                    infoImage.style.display = 'none';
                    infoContent.innerHTML = 
                        '<p style="font-weight: bold; color: #333; margin-bottom: 10px;">' + langContent.hotspot1.points[0] + '</p>' +
                        '<img src="https://i.imgur.com/Pnp0OAa.png" style="width: 100%; border-radius: 8px; margin-bottom: 25px;">' +
                        '<p style="font-weight: bold; color: #333; margin-bottom: 10px;">' + langContent.hotspot1.points[1] + '</p>' +
                        '<img src="https://i.imgur.com/8cWPBhX.png" style="width: 100%; border-radius: 8px; margin-bottom: 15px;">';
                } else if (hotspotId === 'question') {
                    infoTitle.textContent = langContent.question.title;
                    infoImage.style.display = 'none';
                    infoContent.innerHTML = '';
                    questionOptions.style.display = 'grid';
                    
                    langContent.question.options.forEach((option, index) => {
                        const btn = document.createElement('button');
                        btn.className = 'option-btn';
                        btn.textContent = option;
                        btn.addEventListener('click', () => handleAnswer(index, langContent.question));
                        questionOptions.appendChild(btn);
                    });
                }
                
                infoPanel.classList.add('active');
                overlay.classList.add('active');
            });
        });

        function handleAnswer(selectedIndex, questionData) {
            const options = questionOptions.querySelectorAll('.option-btn');
            
            options.forEach((btn, index) => {
                btn.disabled = true;
                
                if (index === questionData.correctAnswer) {
                    btn.classList.add('correct');
                } else if (index === selectedIndex) {
                    btn.classList.add('incorrect');
                }
            });
            
            explanationText.textContent = questionData.explanation;
            explanation.classList.add('show');
        }

        function closePanel() {
            infoPanel.classList.remove('active');
            overlay.classList.remove('active');
        }

        closeBtn.addEventListener('click', closePanel);
        overlay.addEventListener('click', closePanel);

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closePanel();
            }
        });

        // Initialize language
        document.addEventListener('DOMContentLoaded', () => {
            const savedLang = localStorage.getItem("siteLanguage") || "en";
            const btn = document.querySelector(`.lang-btn[onclick*="${savedLang}"]`);
            changeLanguage(savedLang, btn);
        });
    </script>
</body>
</html>